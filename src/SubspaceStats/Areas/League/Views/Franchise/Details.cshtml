@using SubspaceStats.Areas.League.Authorization
@using SubspaceStats.Areas.League.Models.Franchise
@model FranchiseDetails

@{
	ViewData["Title"] = "Franchise Details";
}

@await Html.PartialAsync("_FranchiseNav")

<h1>Franchise Details</h1>

<div class="mb-3">
	<a asp-controller="Home" asp-action="Index" class="mx-2">Home</a>
	<a asp-action="Index">Franchise List</a>
	@if (User.IsInRole(RoleNames.Administrator))
	{
		<a asp-action="Edit" class="mx-2">Edit Franchise</a>
	}
</div>

<div class="table-responsive">
	<table class="table table-striped table-bordered table-hover w-auto">
		<thead>
			<tr>
				<th colspan="3" class="text-center">@Model.Franchise.Name</th>
			</tr>
			<tr>
				<th>Team</th>
				<th>Season</th>
				<th>League</th>
			</tr>
		</thead>
		<tbody>
			@foreach (var teamAndSeason in Model.TeamsAndSeasons)
			{
				<tr>
					<td><a asp-controller="Team" asp-action="Index" asp-route-teamId="@teamAndSeason.TeamId" class="link-underline link-underline-opacity-0 link-underline-opacity-75-hover">@teamAndSeason.TeamName</a></td>
					<td><a asp-controller="Season" asp-action="Index" asp-route-seasonId="@teamAndSeason.SeasonId" class="link-underline link-underline-opacity-0 link-underline-opacity-75-hover">@teamAndSeason.SeasonName</a></td>
					<td><a asp-controller="League" asp-action="Index" asp-route-leagueId="@teamAndSeason.LeagueId" class="link-underline link-underline-opacity-0 link-underline-opacity-75-hover">@teamAndSeason.LeagueName</a></td>
				</tr>
			}
		</tbody>
	</table>
</div>
